<!-- Navbar -->
<nav class="staynest-navbar navbar navbar-expand-lg sticky-top shadow-sm bg-white">
  <div class="container-fluid px-4">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="/listings">
      <i class="fa-solid fa-globe-americas me-2"></i>
      <span>StayNest</span>
    </a>

    <!-- Desktop Search -->
    <div class="d-none d-lg-flex flex-grow-1 justify-content-center">
      <div class="search-wrapper border rounded-pill px-3 py-1 d-flex align-items-center shadow-sm">
        <input type="text" class="form-control border-0 me-2" placeholder="Search destinations">
        <button class="btn btn-primary rounded-circle p-2">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>
    </div>

    <!-- Navigation & Profile -->
    <div class="d-flex align-items-center">
      <!-- Links -->
      <div class="d-none d-lg-flex align-items-center me-3">
        <a href="/listings" class="nav-link text-dark me-3">Explore</a>
        <a href="/listings/new" class="btn btn-outline-primary d-flex align-items-center">
          <i class="fa-solid fa-plus me-1"></i>Host your home
        </a>
      </div>

      <!-- Profile Dropdown -->
      <div class="dropdown">
        <button class="btn btn-light rounded-circle d-flex align-items-center" data-bs-toggle="dropdown">
          <i class="fa-solid fa-bars me-2"></i>
          <i class="fa-solid fa-user"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <% if(!currUser) { %>
          <li><a class="dropdown-item" href="/signup"><i class="fa-solid fa-user-plus me-2"></i>Sign up</a></li>
          <li><a class="dropdown-item" href="/login"><i class="fa-solid fa-sign-in-alt me-2"></i>Log in</a></li>
          <% } %>
          <% if(currUser) { %>
          <li><a class="dropdown-item" href="/logout"><i class="fa-solid fa-sign-out-alt me-2"></i>Log out</a></li>
          <% } %>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/listings/new"><i class="fa-solid fa-home me-2"></i>Host your home</a></li>
          <li><a class="dropdown-item" href="/account"><i class="fa-solid fa-user-cog me-2"></i>Account</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="#"><i class="fa-solid fa-question-circle me-2"></i>Help Center</a></li>
        </ul>
      </div>

      <!-- Mobile Menu Toggle -->
      <button class="btn btn-light d-lg-none ms-2" data-bs-toggle="offcanvas" data-bs-target="#mobileMenu">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>

  </div>
</nav>

<!-- Mobile Search -->
<div class="d-lg-none p-3 bg-light">
  <div class="d-flex align-items-center border rounded-pill px-3 py-2 shadow-sm" data-bs-toggle="modal" data-bs-target="#searchModal">
    <i class="fa-solid fa-magnifying-glass me-3 text-muted"></i>
    <div>
      <div class="fw-bold">Where to?</div>
      <div class="text-muted small">Anywhere • Any week • Add guests</div>
    </div>
    <i class="fa-solid fa-sliders-h ms-auto text-muted"></i>
  </div>
</div>

<!-- Mobile Menu Offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="mobileMenu">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Menu</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <div class="d-flex flex-column">
      <% if(!currUser) { %>
      <a href="/signup" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-user-plus me-3"></i>Sign up</a>
      <a href="/login" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-sign-in-alt me-3"></i>Log in</a>
      <% } %>
      <% if(currUser) { %>
      <a href="/logout" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-sign-out-alt me-3"></i>Log out</a>
      <% } %>
      <hr>
      <a href="/listings" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-home me-3"></i>Home</a>
      <a href="/listings" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-compass me-3"></i>Explore</a>
      <a href="/listings/new" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-plus me-3"></i>Host your home</a>
      <hr>
      <a href="#" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-question-circle me-3"></i>Help Center</a>
      <a href="#" class="mb-2 d-flex align-items-center"><i class="fa-solid fa-globe me-3"></i>Language</a>
    </div>
  </div>
</div>

<!-- Mobile Search Modal -->
<div class="modal fade" id="searchModal" tabindex="-1">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="p-4">
          <h2 class="mb-4">Where to?</h2>
          <div class="d-flex flex-column gap-3">
            <div>
              <label class="form-label">I'm looking for</label>
              <input type="text" class="form-control" placeholder="Search destinations">
            </div>
            <div>
              <label class="form-label">When</label>
              <div class="d-flex gap-2">
                <input type="text" class="form-control" placeholder="Check in">
                <input type="text" class="form-control" placeholder="Check out">
              </div>
            </div>
            <div>
              <label class="form-label">Who</label>
              <input type="text" class="form-control" placeholder="Add guests">
            </div>
            <button class="btn btn-primary mt-3 d-flex align-items-center justify-content-center">
              <i class="fa-solid fa-magnifying-glass me-2"></i>Search
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
